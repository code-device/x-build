# 静态资源

在开发过程中，通常情况下不允许将静态资源放置项目中，应在本地启动一个静态资源服务器，用链接的形式加载静态资源。

**分离静态资源与项目的原因：**

- 静态资源与项目绑定，导致 git 仓库占用空间巨大，拉取项目耗时。
- 后期项目上线，静态资源均储存在 阿里云OSS 中，后期替换链接提高了开发成本。

## 公用静态资源服务器

公用的静态资源服务器是由设计师提供的，通过访问设计师地址：

> IP + 端口号 + 项目路径 + 资源类型路径 + 自定义路径(可选) + 文件名。
> 示例：http://192.168.1.1:8889/project/images/page1/bg.jpg

请保证与公用静态资源服务器在同一内网下。

在开发环境的环境变量中设置(.env.development)

```bash
# 注意替换为静态资源服务器地址
VUE_APP_STATIC_URL=http://192.168.1.1:8889/project/
```

> 静态资源路径区分到项目名即可，后续的路径由具体组件调用时补齐。

## 本地静态资源服务器

在开发过程中，我们应本地启动一个静态资源服务器，以提供图片资源的地址，推荐使用 [http-server](https://www.npmjs.com/package/http-server) 启动，可以使用 [pm2](https://www.npmjs.com/package/pm2) 配合管理进程。

在环境变量中已经预留好图片地址前缀的位置，配合 m-static 组件即可。

## 配置线上 OSS 地址

在生产环境下，会将所有的静态资源上传至 OSS，并保证路径的一致性。

此时在生产环境变量下设置 OSS 地址(.env.production)

```bash
# 注意替换为 OSS 地址
VUE_APP_STATIC_URL=http://oss.com/project/
```
